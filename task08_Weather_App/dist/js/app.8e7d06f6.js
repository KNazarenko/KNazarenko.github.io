(function(t){function e(e){for(var i,r,c=e[0],s=e[1],u=e[2],l=0,f=[];l<c.length;l++)r=c[l],o[r]&&f.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);p&&p(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("c21b"),o=n.n(i);o.a},1634:function(t,e,n){},"1b96":function(t,e,n){},"2c2b":function(t,e,n){"use strict";var i=n("968e"),o=n.n(i);o.a},"2e25":function(t,e,n){"use strict";var i=n("1634"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-header",{on:{onUpdate:t.doUpdate,onCityName:t.setCity}}),n("app-city-list",{attrs:{cities:t.cities},on:{removeItem:t.deleteCity}})],1)},a=[],r=(n("ac6a"),n("8afe")),c=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",{staticClass:"header__wrap"},[n("app-logo"),n("app-nav",{on:{onUpdate:t.doUpdate,onCityName:t.getCity}})],1)])}),s=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[t._v("Weather App")])},p=[],l={},f=l,d=(n("de84"),n("2877")),v=Object(d["a"])(f,u,p,!1,null,"3224e72a",null);v.options.__file="Logo.vue";var m=v.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav"},[n("el-button",{attrs:{type:"success"},on:{click:t.newUpdate}},[t._v("Update")]),n("el-button",{attrs:{type:"success"},on:{click:t.toggleInput}},[t._v("Add")]),t.isShow?n("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"newCity",attrs:{type:"text",name:"input",placeholder:"Type new city"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getCity(e):null}}}):t._e()],1)},y=[],_={data:function(){return{isShow:!1}},directives:{focus:{inserted:function(t){t.focus()}}},methods:{toggleInput:function(){this.isShow=!this.isShow},getCity:function(t){var e=t.target,n=e.value;this.$emit("onCityName",n),this.isShow=!this.isShow},newUpdate:function(){this.$emit("onUpdate")}}},b=_,g=(n("7dab"),Object(d["a"])(b,h,y,!1,null,"1ed1a2d6",null));g.options.__file="Nav.vue";var C=g.exports,w={name:"app-header",components:{AppLogo:m,AppNav:C},methods:{getCity:function(t){this.$emit("onCityName",t)},doUpdate:function(){this.$emit("onUpdate")}}},j=w,O=(n("2e25"),Object(d["a"])(j,c,s,!1,null,"02d8a923",null));O.options.__file="Header.vue";var x=O.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main__wrap"},[n("ul",{staticClass:"list"},t._l(t.cities,function(e,i){return n("app-city-item",{key:i,attrs:{city:e.cityName,temp:e.temp,icon:e.icon,id:e.id},on:{removeItem:t.onRemoveItem}})}))])},N=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"item"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"city_name"},[t._v(t._s(t.city))]),n("div",{staticClass:"wrap"},[n("div",{staticClass:"weather_icon"},[n("img",{staticClass:"icon",attrs:{src:"http://openweathermap.org/img/w/"+t.icon+".png",alt:"#"}})]),n("div",{staticClass:"number"},[t._v(t._s(t.temp))])]),n("el-button",{staticClass:"delete",attrs:{type:"info",plain:"",size:"mini"},on:{click:function(e){t.onRemoveItem(t.id)}}},[t._v("x")])],1)])},I=[],S={props:["city","temp","icon","id"],methods:{onRemoveItem:function(t){this.$emit("removeItem",t)}}},U=S,A=(n("2c2b"),Object(d["a"])(U,$,I,!1,null,"391bcf4d",null));A.options.__file="CityItem.vue";var E=A.exports,P={props:["cities"],components:{AppCityItem:E},methods:{onRemoveItem:function(t){this.$emit("removeItem",t)}}},L=P,M=(n("e7ab"),Object(d["a"])(L,k,N,!1,null,"551d9dc1",null));M.options.__file="CityList.vue";var R=M.exports,T=n("c665"),B=n("aa9a"),W="http://api.openweathermap.org/data/2.5/weather",H="22603d94d2580dd4da189c31ff13a4a6",J=function(){function t(){Object(T["a"])(this,t)}return Object(B["a"])(t,null,[{key:"getWeather",value:function(t,e){return fetch("".concat(W,"?lat=").concat(t,"&lon=").concat(e,"&appid=").concat(H))}},{key:"getCityByName",value:function(t){return fetch("".concat(W,"?q=").concat(t,"&appid=").concat(H))}}]),t}(),q={name:"app",data:function(){return{cities:[]}},components:{AppHeader:x,AppCityList:R},methods:{setCity:function(t){var e=this;J.getCityByName(t).then(function(t){return t.json()}).then(function(t){return e.addCity(t)}).catch(function(t){return alert("Город не найден.")})},addCity:function(t){this.cities.push({cityName:t.name,temp:(t.main.temp-272.15).toFixed(0),icon:t.weather[0].icon,id:t.id})},deleteCity:function(t){this.cities=this.cities.filter(function(e){return e.id!==t})},doUpdate:function(){var t=this,e=Object(r["a"])(this.cities);this.cities=[],e.forEach(function(e){J.getCityByName(e.cityName).then(function(t){return t.json()}).then(function(e){t.addCity(e)})})}},mounted:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,i=e.coords.longitude;J.getWeather(n,i).then(function(t){return t.json()}).then(function(e){return t.addCity(e)})})}},z=q,F=(n("034f"),Object(d["a"])(z,o,a,!1,null,null,null));F.options.__file="App.vue";var D=F.exports,G=n("5c96"),K=n.n(G);n("0fae");i["default"].use(K.a),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(D)}}).$mount("#app")},"60c1":function(t,e,n){},"7dab":function(t,e,n){"use strict";var i=n("e003"),o=n.n(i);o.a},"968e":function(t,e,n){},c21b:function(t,e,n){},de84:function(t,e,n){"use strict";var i=n("60c1"),o=n.n(i);o.a},e003:function(t,e,n){},e7ab:function(t,e,n){"use strict";var i=n("1b96"),o=n.n(i);o.a}});
//# sourceMappingURL=app.8e7d06f6.js.map